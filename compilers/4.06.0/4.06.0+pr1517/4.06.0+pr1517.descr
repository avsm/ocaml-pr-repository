More robust handling of type variables in mcomp